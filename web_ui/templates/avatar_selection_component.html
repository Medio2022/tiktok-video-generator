<!-- Avatar Selection UI Component -->
<!-- Add this section between Theme Selection and Subtitle Settings in generate.html -->

<!-- Avatar Selection -->
<div class="mb-6 border-t border-slate-700 pt-6">
    <label class="block text-sm font-medium mb-3 flex items-center gap-2">
        ğŸ­ Avatar AI (VidÃ©o UGC RÃ©aliste)
        <span class="text-xs bg-cyan-500 text-slate-900 px-2 py-1 rounded font-bold">NOUVEAU</span>
    </label>

    <!-- Toggle Avatar Mode -->
    <div class="flex items-center gap-3 mb-4 bg-slate-700/50 p-4 rounded-lg">
        <input type="checkbox" x-model="formData.use_avatar" id="use_avatar"
            class="w-5 h-5 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500">
        <label for="use_avatar" class="cursor-pointer select-none">
            <div class="font-medium">Utiliser un avatar AI parlant</div>
            <div class="text-xs text-slate-400">
                CrÃ©ez des vidÃ©os UGC authentiques avec un personnage rÃ©aliste + lip-sync parfait
            </div>
        </label>
    </div>

    <!-- Avatar Gallery (visible when avatar enabled) -->
    <div x-show="formData.use_avatar" x-transition class="space-y-4">

        <!-- Avatar Selection Grid -->
        <div>
            <label class="block text-xs text-slate-400 mb-2">Choisir un avatar</label>
            <div class="grid grid-cols-5 gap-3">
                <!-- Anna -->
                <div @click="formData.avatar_id = 'anna_casual_v2'"
                    :class="formData.avatar_id === 'anna_casual_v2' ? 'ring-4 ring-cyan-500' : 'ring-1 ring-slate-600'"
                    class="cursor-pointer rounded-lg overflow-hidden transition-all hover:scale-105 hover:ring-2 hover:ring-cyan-400">
                    <div
                        class="aspect-square bg-gradient-to-br from-pink-400 to-purple-500 flex items-center justify-center">
                        <span class="text-4xl">ğŸ‘©</span>
                    </div>
                    <p class="text-xs text-center py-2 bg-slate-700">Anna</p>
                    <p class="text-[10px] text-center pb-1 text-slate-400">Casual</p>
                </div>

                <!-- John -->
                <div @click="formData.avatar_id = 'john_professional_v2'"
                    :class="formData.avatar_id === 'john_professional_v2' ? 'ring-4 ring-cyan-500' : 'ring-1 ring-slate-600'"
                    class="cursor-pointer rounded-lg overflow-hidden transition-all hover:scale-105 hover:ring-2 hover:ring-cyan-400">
                    <div
                        class="aspect-square bg-gradient-to-br from-blue-400 to-indigo-500 flex items-center justify-center">
                        <span class="text-4xl">ğŸ‘¨â€ğŸ’¼</span>
                    </div>
                    <p class="text-xs text-center py-2 bg-slate-700">John</p>
                    <p class="text-[10px] text-center pb-1 text-slate-400">Pro</p>
                </div>

                <!-- Sarah -->
                <div @click="formData.avatar_id = 'sarah_friendly_v2'"
                    :class="formData.avatar_id === 'sarah_friendly_v2' ? 'ring-4 ring-cyan-500' : 'ring-1 ring-slate-600'"
                    class="cursor-pointer rounded-lg overflow-hidden transition-all hover:scale-105 hover:ring-2 hover:ring-cyan-400">
                    <div
                        class="aspect-square bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center">
                        <span class="text-4xl">ğŸ‘±â€â™€ï¸</span>
                    </div>
                    <p class="text-xs text-center py-2 bg-slate-700">Sarah</p>
                    <p class="text-[10px] text-center pb-1 text-slate-400">Friendly</p>
                </div>

                <!-- Marcus -->
                <div @click="formData.avatar_id = 'marcus_tech_v2'"
                    :class="formData.avatar_id === 'marcus_tech_v2' ? 'ring-4 ring-cyan-500' : 'ring-1 ring-slate-600'"
                    class="cursor-pointer rounded-lg overflow-hidden transition-all hover:scale-105 hover:ring-2 hover:ring-cyan-400">
                    <div
                        class="aspect-square bg-gradient-to-br from-green-400 to-teal-500 flex items-center justify-center">
                        <span class="text-4xl">ğŸ‘¨â€ğŸ’»</span>
                    </div>
                    <p class="text-xs text-center py-2 bg-slate-700">Marcus</p>
                    <p class="text-[10px] text-center pb-1 text-slate-400">Tech</p>
                </div>

                <!-- Lisa -->
                <div @click="formData.avatar_id = 'lisa_beauty_v2'"
                    :class="formData.avatar_id === 'lisa_beauty_v2' ?'ring-4 ring-cyan-500' : 'ring-1 ring-slate-600'"
                    class="cursor-pointer rounded-lg overflow-hidden transition-all hover:scale-105 hover:ring-2 hover:ring-cyan-400">
                    <div
                        class="aspect-square bg-gradient-to-br from-red-400 to-pink-500 flex items-center justify-center">
                        <span class="text-4xl">ğŸ’â€â™€ï¸</span>
                    </div>
                    <p class="text-xs text-center py-2 bg-slate-700">Lisa</p>
                    <p class="text-[10px] text-center pb-1 text-slate-400">Beauty</p>
                </div>
            </div>
        </div>

        <!-- Voice Selection -->
        <div>
            <label class="block text-xs text-slate-400 mb-2">Choisir une voix</label>
            <select x-model="formData.voice_id"
                class="w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-sm">
                <option value="en-US-JennyNeural">Jenny (US Female - Friendly)</option>
                <option value="en-US-GuyNeural">Guy (US Male - Professional)</option>
                <option value="en-GB-LibbyNeural">Libby (UK Female - Elegant)</option>
                <option value="en-US-AriaNeural">Aria (US Female - Energetic)</option>
                <option value="en-US-DavisNeural">Davis (US Male - Casual)</option>
            </select>
        </div>

        <!-- Format Selection -->
        <div>
            <label class="block text-xs text-slate-400 mb-2">Format de la vidÃ©o</label>
            <div class="grid grid-cols-3 gap-2">
                <button type="button" @click="formData.aspect_ratio = '9:16'"
                    :class="formData.aspect_ratio === '9:16' ? 'bg-cyan-600' : 'bg-slate-700 hover:bg-slate-600'"
                    class="px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                    ğŸ“± TikTok<br><span class="text-xs text-slate-300">9:16</span>
                </button>
                <button type="button" @click="formData.aspect_ratio = '16:9'"
                    :class="formData.aspect_ratio === '16:9' ? 'bg-cyan-600' : 'bg-slate-700 hover:bg-slate-600'"
                    class="px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                    ğŸ“º YouTube<br><span class="text-xs text-slate-300">16:9</span>
                </button>
                <button type="button" @click="formData.aspect_ratio = '1:1'"
                    :class="formData.aspect_ratio === '1:1' ? 'bg-cyan-600' : 'bg-slate-700 hover:bg-slate-600'"
                    class="px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                    ğŸ“· Instagram<br><span class="text-xs text-slate-300">1:1</span>
                </button>
            </div>
        </div>

        <!-- Info Banner -->
        <div class="bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-3">
            <div class="flex gap-2">
                <span class="text-cyan-400">â„¹ï¸</span>
                <div class="text-xs text-slate-300">
                    <strong class="text-cyan-400">Mode Avatar AI activÃ©:</strong>
                    Votre vidÃ©o sera gÃ©nÃ©rÃ©e avec un personnage rÃ©aliste qui parle votre script avec un lip-sync
                    parfait.
                    IdÃ©al pour du contenu UGC authentique !
                </div>
            </div>
        </div>
    </div>
</div>